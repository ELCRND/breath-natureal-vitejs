!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)}).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class t{constructor(t,e,i,s){this.SLIDER=document.querySelector(t),this.WRAPPER=this.SLIDER.querySelector(".slider-wrapper"),this.LIST=this.SLIDER.querySelector(".slider-list"),this.PREV=this.SLIDER.querySelector(".slider-btn--prev"),this.NEXT=this.SLIDER.querySelector(".slider-btn--next"),this.PAGINATION_CONTAINER=e?this.SLIDER.querySelector(".slider-pagination"):null,this.gap=0,this.slideSize=0,this.totalSlides=0,this.visibleSlides=0,this.currentSlide=0,this.isPagination=e||!1,this.isAllScreen=i||!1,this.isAnimation=s||!1,this.isAnimationPlay=!1,this.touchStartX=0,this.touchEndX=0,this.touchStartY=0,this.touchEndY=0,this.minSwipeDistance=50,this.handlePrev=()=>this.prev(),this.handleNext=()=>this.next(),this.handleResize=()=>this.resize(),this.handlePagination=t=>this.pagination(t),this.handleTouchStart=t=>this.touchStart(t),this.handleTouchEnd=t=>this.touchEnd(t),this.init()}get offset(){return(this.slideSize+this.gap)*this.currentSlide}get isMobile(){return window.matchMedia("(max-width: 767px)").matches}get isLast(){return this.currentSlide>=this.totalSlides-1}get isFirst(){return this.currentSlide<=0}init(){this.LIST.firstElementChild&&(this.setSize(),this.setVisibleSlidesCount(),this.setGap(),this.setTotal(),this.on())}setSize(){this.slideSize=this.LIST.getBoundingClientRect().width}setVisibleSlidesCount(){this.visibleSlides=this.getVisibleHorizontalItems(this.LIST)}setGap(){this.gap=parseInt(window.getComputedStyle(this.LIST).gap)||0}setTotal(){this.totalSlides=this.LIST.childElementCount}setPaginationBtns(){for(let t=0;t<this.totalSlides;t++)this.PAGINATION_CONTAINER?.appendChild(this.createPaginationBtn(t))}createPaginationBtn(t){const e=document.createElement("button");return e.type="button",e.classList.add("slider-bullet"),e.setAttribute("data-pagination",t),e.ariaLabel=t+1+" слайд",t==this.currentSlide&&e.classList.add("slider-bullet--active"),e.addEventListener("click",this.handlePagination),e}on(){this.PREV.addEventListener("click",this.handlePrev),this.NEXT.addEventListener("click",this.handleNext),this.LIST.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),this.LIST.addEventListener("touchend",this.handleTouchEnd,{passive:!0}),window.addEventListener("resize",this.handleResize),this.isPagination&&(this.isAllScreen||this.isMobile)&&(this.setPaginationBtns(),this.isPagination=!0)}off(){this.PREV.removeEventListener("click",this.handlePrev),this.NEXT.removeEventListener("click",this.handleNext),this.LIST.removeEventListener("touchstart",this.handleTouchStart),this.LIST.removeEventListener("touchend",this.handleTouchEnd),window.removeEventListener("resize",this.handleResize)}touchStart(t){this.touchStartX=t.changedTouches[0].screenX,this.touchStartY=t.changedTouches[0].screenY}touchEnd(t){this.touchEndX=t.changedTouches[0].screenX,this.touchEndY=t.changedTouches[0].screenY,this.swipe()}swipe(){const t=this.touchEndX-this.touchStartX,e=this.touchEndY-this.touchStartY;Math.abs(t)>Math.abs(e)&&Math.abs(t)>this.minSwipeDistance&&(t>0?this.prev():this.next())}prev(){this.isFirst||(this.currentSlide--,this.update(),this.checkBlockBtns())}next(){this.isLast||(this.currentSlide++,this.update(),this.checkBlockBtns())}update(){this.LIST.style=`translate: -${this.offset}px 0`,this.isPagination&&this.updatePagination(),this.isAnimation&&this.animation()}animation(){this.isAnimationPlay||(this.isAnimationPlay=!0,this.LIST.classList.add("sliding"),setTimeout(()=>{this.LIST.classList.remove("sliding"),this.isAnimationPlay=!1},300))}resize(){this.setVisibleSlidesCount(),this.setSize(),this.isMobile||(this.currentSlide=0,this.checkBlockBtns()),this.update()}pagination(t){const e=t.target.getAttribute("data-pagination");Number.isNaN(e)||(this.currentSlide=parseInt(e),this.update(),this.updatePagination(),this.checkBlockBtns())}updatePagination(){this.PAGINATION_CONTAINER?.childNodes.forEach((t,e)=>{e==this.currentSlide?t.classList.add("slider-bullet--active"):t.classList.remove("slider-bullet--active")})}getVisibleHorizontalItems(t){const e=t.getBoundingClientRect();return Array.from(t.children).filter(t=>{const i=t.getBoundingClientRect();return i.left>=e.left&&i.right<=e.right}).length}checkBlockBtns(){this.PREV.disabled=!1,this.NEXT.disabled=!1,this.isFirst&&(this.PREV.disabled=!0),this.isLast&&(this.NEXT.disabled=!0)}}class e{constructor(){this.mainStylesLoaded=!1,this.init()}init(){this.setupOptimizedLoading()}setupOptimizedLoading(){const t="/src/scss/main.scss";if(this.isCSSLoaded(t))return void this.onMainStylesLoaded();const e=document.querySelector(`link[href="${t}"]`);e&&"preload"===e.rel?(e.rel="stylesheet",e.onload=()=>this.onMainStylesLoaded(),e.onerror=()=>this.loadMainStyles()):this.loadMainStyles(),setTimeout(()=>{this.mainStylesLoaded||this.loadMainStyles()},3e3)}loadMainStyles(){if(this.mainStylesLoaded)return;const t=document.createElement("link");t.rel="stylesheet",t.href="/src/scss/main.scss",t.onload=()=>this.onMainStylesLoaded(),t.onerror=()=>this.onMainStylesLoaded(),document.head.appendChild(t)}isCSSLoaded(t){return Array.from(document.styleSheets).some(e=>e.href&&e.href.includes(t))}onMainStylesLoaded(){this.mainStylesLoaded||(this.mainStylesLoaded=!0,document.body.classList.add("styles-loaded"))}}document.addEventListener("DOMContentLoaded",function(){new e,new t(".hero-plants",!0,!0,!0),new t(".catalog__products",!1,!1,!1),new t(".our__plants",!0,!0,!0)});
